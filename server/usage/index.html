<!DOCTYPE html>
<html class="no-js">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Manual Control  &middot; Yarra Framework</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="">

<meta property="og:title" content="Manual Control  &middot; Yarra Framework ">
<meta property="og:site_name" content="Yarra Framework"/>
<meta property="og:url" content="http://yarra-framework.org/server/usage/" />
<meta property="og:locale" content="en-us">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="2018-06-15T00:00:00Z" />
<meta property="og:article:modified_time" content="2018-06-15T00:00:00Z" />

  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Manual Control",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2018-06-15",
    "description": "",
    "wordCount":  618 
  }
</script>


<link rel="canonical" href="http://yarra-framework.org/server/usage/" />

<meta name="generator" content="Hugo 0.96.0" />


  <link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="/assets/css/yarra.css">

  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-63470225-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-63470225-3');
  </script>

</head>
<body>
<nav class="navbar navbar-expand-lg fixed-top site-navbar navbar-inverse">
  <a class="navbar-brand text-white" href="http://yarra-framework.org/">Yarra Framework</a>
  <button class="navbar-toggler text-white" 
  type="button" data-toggle="collapse" data-target="#exCollapsingNavbar2" aria-controls="exCollapsingNavbar2"
    aria-expanded="false" aria-label="Toggle navigation">
    &#9776;
  </button>
  <div class="collapse navbar-collapse" id="exCollapsingNavbar2">
    <ul class="nav navbar-nav ml-1 mr-auto">
               
        
        <li class="nav-item">
          <a class="nav-link menu-item " href="/overview/">
            
            <span class="text-capitalize no-decoration text-white">Overview</span>
          </a>
        </li>
        
              
        
        <li class="nav-item">
          <a class="nav-link menu-item " href="/clients/">
            
            <span class="text-capitalize no-decoration text-white">Clients</span>
          </a>
        </li>
        
              
        
        <li class="nav-item">
          <a class="nav-link menu-item active" href="/server/">
            
            <span class="text-capitalize no-decoration text-white">Server</span>
          </a>
        </li>
        
              
        
        <li class="nav-item">
          <a class="nav-link menu-item " href="/modules/">
            
            <span class="text-capitalize no-decoration text-white">Modules</span>
          </a>
        </li>
        
              
        
        <li class="nav-item">
          <a class="nav-link menu-item " href="/logserver/">
            
            <span class="text-capitalize no-decoration text-white">LogServer</span>
          </a>
        </li>
        
              
        
        <li class="nav-item">
          <a class="nav-link menu-item " href="/addons/">
            
            <span class="text-capitalize no-decoration text-white">Addons</span>
          </a>
        </li>
        
              
        
        <li class="nav-item">
          <a class="nav-link menu-item " href="/download/">
            
            <span class="text-capitalize no-decoration text-white">Download</span>
          </a>
        </li>
        
              
        
        <li class="nav-item">
          <a class="nav-link menu-item " href="/blog/">
            
            <span class="text-capitalize no-decoration text-white">Blog</span>
          </a>
        </li>
        
              
        
              
        
              
        
      
    </ul>
  </div>
</nav>


<div class="container p-a-0">
  <div class="row m-l-0 m-r-0 mb-2">
    <div class="col">
      <h1>Server&nbsp;-&nbsp;Manual Control</h1>
    </div>
  </div>
    <div class="row m-l-0 m-r-0">
      <div class="col-xs-12 col-lg-3">
      <div class="list-group mr-3 mb-4">
        <a href="http://yarra-framework.org/server/" class="list-group-item list-group-item-action">Overview</a>
        
        
        
        <a href="/server/installation/" class="list-group-item list-group-item-action ">&ndash;&nbsp; Installation</a>
        
        <a href="/server/configuration/" class="list-group-item list-group-item-action ">&ndash;&nbsp; Configuration</a>
        
        <a href="/server/webgui/" class="list-group-item list-group-item-action ">&ndash;&nbsp; WebGUI</a>
        
        <a href="/server/usage/" class="list-group-item list-group-item-action active">&ndash;&nbsp; Manual Control</a>
        
        <a href="/server/modes/" class="list-group-item list-group-item-action ">&ndash;&nbsp; Reconstruction Modes</a>
        
        <a href="/server/notifications/" class="list-group-item list-group-item-action ">&ndash;&nbsp; Notifications</a>
        
        <a href="/server/loadbalancing/" class="list-group-item list-group-item-action ">&ndash;&nbsp; Load Balancing</a>
        
      </div>
    </div>
    <div class="col-xs-12 col-lg-9 post-container">
      <div class="content pt-2">
  <h3 id="hahahugoshortcode-s0-hbhb">
<i class="fas fa-angle-double-right" style="color: #580F8B; font-size: 24px;">&nbsp;</i>Starting and Stopping the Server

</h3>
<div style="margin-bottom: 10px; font-size: 0px;">&nbsp;</div>
<p>In most use cases, the YarraServer process is controlled via the <a href="/server/webgui">WebGUI</a>. However, it is also possible to control the server using command-line tools. 
<div style="margin-bottom: 20px; font-size: 0px;">&nbsp;</div></p>
<h4 id="if-running-as-linux-daemon">If Running as Linux Daemon</h4>
<p>When the YarraServer has been installed as daemon (recommended and described <a href="/server/installation">here</a>), the YarraServer can be started using a terminal shell (as user yarraserver) and typing:</p>
<pre tabindex="0"><code>sudo systemctl start yarra
</code></pre><p>The server is now running in the background. To stop the server, type:</p>
<pre tabindex="0"><code>sudo systemctl stop yarra
</code></pre><p>The server will shut down after completing the active task (if existing).</p>
<div style="margin-bottom: 20px; font-size: 0px;">&nbsp;</div>
<h4 id="if-running-as-command-shell-application">If Running as Command-Shell Application</h4>
<p>When running YarraServer as command-shell application (only recommended for testing purpose), the YarraServer can be started using a terminal shell (as user yarraserver) and typing:</p>
<pre tabindex="0"><code>~/yarra/ServerCtrl -l
</code></pre><p>The server is now running in the background. To stop the server, type:</p>
<pre tabindex="0"><code>~/yarra/ServerCtrl -s
</code></pre><p>The server will shut down after completing the active task (if existing).</p>
<div style="margin-bottom: 40px; font-size: 0px;">&nbsp;</div>
<h3 id="hahahugoshortcode-s5-hbhb">
<i class="fas fa-angle-double-right" style="color: #580F8B; font-size: 24px;">&nbsp;</i>Monitoring the Server Activity

</h3>
<p>To test if the server is currently active, write the following command:</p>
<pre tabindex="0"><code>~/yarra/ServerCtrl -t
</code></pre><p>To check if the server is idle or processing a task, use the following command:</p>
<pre tabindex="0"><code>~/yarra/ServerCtrl -d
</code></pre><p>To view the output of the currently running reconstruction task, use the command:</p>
<pre tabindex="0"><code>~/yarra/ServerCtrl -v
</code></pre><div style="margin-bottom: 40px; font-size: 0px;">&nbsp;</div>
<h3 id="hahahugoshortcode-s7-hbhb">
<i class="fas fa-angle-double-right" style="color: #580F8B; font-size: 24px;">&nbsp;</i>Terminating an Unresponsive Task

</h3>
<p>If reconstruction modules become unresponsive, termination of the YarraServer can be enforced by typing the command:</p>
<pre tabindex="0"><code>~/yarra/ServerCtrl -h
</code></pre><p>This will terminate module and shutdown the YarraServer immediately. If the server is running as daemon,it will be automatically restarted and will continue with the next reconstruction task (when running it as command-shell application, the server needs to be restarted manually).</p>

<div class="bs-callout bs-callout-primary"  >
    
<p>More convenient monitoring (and controlling) of the server is possible by installing the <a href="/server/webgui">Yarra WebGUI</a>.</p>
</div>


<div style="margin-bottom: 40px; font-size: 0px;">&nbsp;</div>
<h3 id="hahahugoshortcode-s10-hbhb">
<i class="fas fa-angle-double-right" style="color: #580F8B; font-size: 24px;">&nbsp;</i>Output Directories

</h3>
<p>Reconstruction tasks that are  submitted by the Yarra clients are first placed in the <strong>queue</strong> directory. The server then selects one task an moves the files into the <strong>work</strong> directory. If a reconstruction problem should occur and the processing was not successful, the files of the failed task will be moved to a subfolder of the directory <strong>fail</strong> (thus, data from unsuccessful tasks will never be lost). If a reconstruction mode defines that also data from successful reconstructions should be kept (e.g., to archive the data for later reprocessing), the files form the task will be moved to a subfolder of the directory <strong>finished</strong>. To avoid that a lot of cases pile up in this directory, it is recommended to move older files to a long-term storage directory, e.g. using an automated cron job.</p>
<div style="margin-bottom: 40px; font-size: 0px;">&nbsp;</div>
<h3 id="hahahugoshortcode-s12-hbhb">
<i class="fas fa-angle-double-right" style="color: #580F8B; font-size: 24px;">&nbsp;</i>Logfiles

</h3>
<p>The YarraServer has two logging mechanisms: A server log, which contains coarse information about what tasks were processed and when problems occurred, and an individual task log, which contains detailed information about each task, including all output that the modules created. This file can be very helpful when investigating reconstruction problems or crashes.</p>
<p>All log files are stored in the subdirectory log. The server log has the fixed file name yarra.log. If the log file gets too large, it will be archived (by adding a time stamp to the file name) and a clean file will be created. The task log is named according to the task ID, i.e. the name of the submitted file, with the extension “.log”. If a task is submitted and a log file with this name already exists, a time stamp will be appended. Note: All notification emails show the task ID at the bottom of the mail, which makes it easy to identify the log file. The file name of the log file of the currently active task can be obtained by calling:</p>
<pre tabindex="0"><code>~/yarra/ServerCtrl -d
</code></pre><p>
<div class="bs-callout bs-callout-primary"  >
    
<p>The log files can also be viewed or downloaded using the WebGUI.</p>
</div>


<div style="margin-bottom: 40px; font-size: 0px;">&nbsp;</div></p>

</div>

      
    </div>
  </div>
</div>
      <footer style="margin-top: 100px;">
    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <ul class="list-inline pull-left">
                    
                         
                         
                          <li><a class="page-scroll" href="/">Home</a></li>
                          <li class="footer-menu-divider">&vert;</li> 
                        
                          <li><a class="page-scroll" href="/disclaimer/">Disclaimer</a></li>
                          <li class="footer-menu-divider">&vert;</li> 
                        
                          <li><a class="page-scroll" href="/license/">License</a></li>
                           
                         
                    
                </ul>
            </div>
            <div class="col-md-4">
            <div class="pull-right">
            <a href="http://cai2r.net" target="_blank"><img class="cai2rlogo" src="/assets/img/cai2r.png" height="65"></a>
            </div>
            </div>
        </div>
    </div>
</footer>

    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha256-xaF9RpdtRxzwYMWg4ldJoyPWqyDPCRD0Cv7YEEe6Ie8=" crossorigin="anonymous"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>

<script>
hljs.configure({
  languages: []
})
hljs.initHighlightingOnLoad();
</script>

<script src="/assets/js/script.js"></script>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
<script>
  ((window.gitter = {}).chat = {}).options = {
    room: 'yarra-dev/Support'
  };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>


  </body>
</html>

