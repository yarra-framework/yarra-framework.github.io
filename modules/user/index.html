<!DOCTYPE html>
<html class="no-js">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>User Modules  &middot; Yarra Framework</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="">

<meta property="og:title" content="User Modules  &middot; Yarra Framework ">
<meta property="og:site_name" content="Yarra Framework"/>
<meta property="og:url" content="http://yarra-framework.org/modules/user/" />
<meta property="og:locale" content="en-us">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="2018-06-15T00:00:00Z" />
<meta property="og:article:modified_time" content="2018-06-15T00:00:00Z" />

  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "User Modules",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2018-06-15",
    "description": "",
    "wordCount":  84 
  }
</script>


<link rel="canonical" href="http://yarra-framework.org/modules/user/" />

<meta name="generator" content="Hugo 0.104.3" />


  <link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="/assets/css/yarra.css">

  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-63470225-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-63470225-3');
  </script>

</head>
<body>
<nav class="navbar navbar-expand-lg fixed-top site-navbar navbar-inverse">
  <a class="navbar-brand text-white" href="http://yarra-framework.org/">Yarra Framework</a>
  <button class="navbar-toggler text-white" 
  type="button" data-toggle="collapse" data-target="#exCollapsingNavbar2" aria-controls="exCollapsingNavbar2"
    aria-expanded="false" aria-label="Toggle navigation">
    &#9776;
  </button>
  <div class="collapse navbar-collapse" id="exCollapsingNavbar2">
    <ul class="nav navbar-nav ml-1 mr-auto">
               
        
        <li class="nav-item">
          <a class="nav-link menu-item " href="/overview/">
            
            <span class="text-capitalize no-decoration text-white">Overview</span>
          </a>
        </li>
        
              
        
        <li class="nav-item">
          <a class="nav-link menu-item " href="/clients/">
            
            <span class="text-capitalize no-decoration text-white">Clients</span>
          </a>
        </li>
        
              
        
        <li class="nav-item">
          <a class="nav-link menu-item " href="/server/">
            
            <span class="text-capitalize no-decoration text-white">Server</span>
          </a>
        </li>
        
              
        
        <li class="nav-item">
          <a class="nav-link menu-item active" href="/modules/">
            
            <span class="text-capitalize no-decoration text-white">Modules</span>
          </a>
        </li>
        
              
        
        <li class="nav-item">
          <a class="nav-link menu-item " href="/logserver/">
            
            <span class="text-capitalize no-decoration text-white">LogServer</span>
          </a>
        </li>
        
              
        
        <li class="nav-item">
          <a class="nav-link menu-item " href="/addons/">
            
            <span class="text-capitalize no-decoration text-white">Addons</span>
          </a>
        </li>
        
              
        
        <li class="nav-item">
          <a class="nav-link menu-item " href="/download/">
            
            <span class="text-capitalize no-decoration text-white">Download</span>
          </a>
        </li>
        
              
        
        <li class="nav-item">
          <a class="nav-link menu-item " href="/blog/">
            
            <span class="text-capitalize no-decoration text-white">Blog</span>
          </a>
        </li>
        
              
        
              
        
              
        
      
    </ul>
  </div>
</nav>


<div class="container p-a-0">
  <div class="row m-l-0 m-r-0 mb-2">
    <div class="col">
      <h1>Modules&nbsp;-&nbsp;User Modules</h1>
    </div>
  </div>
    <div class="row m-l-0 m-r-0">
      <div class="col-xs-12 col-lg-3">
      <div class="list-group mr-3 mb-4">
        <a href="http://yarra-framework.org/modules/" class="list-group-item list-group-item-action">Overview</a>
        
        
        
        <a href="/modules/core/" class="list-group-item list-group-item-action ">&ndash;&nbsp; Core Modules</a>
        
        <a href="/modules/user/" class="list-group-item list-group-item-action active">&ndash;&nbsp; User Modules</a>
        
        <a href="/modules/development/" class="list-group-item list-group-item-action ">&ndash;&nbsp; Development</a>
        
        <a href="/modules/packaging/" class="list-group-item list-group-item-action ">&ndash;&nbsp; Packaging</a>
        
      </div>
    </div>
    <div class="col-xs-12 col-lg-9 post-container">
      <div class="content pt-2">
  <h3 id="hahahugoshortcode-s0-hbhb">
<i class="fas fa-angle-double-right" style="color: #580F8B; font-size: 24px;">&nbsp;</i>Additional Installable Modules

</h3>
<p>Additional modules can be installed via the module installer of the WebGUI (on the Configuration page). User modules are extracted into separate folders under the directory <strong>yarra/modules_user</strong>. The helper macro for referencing this folder is <strong>%bu</strong>. For example, when installing the Subtraction module, this binary can be called via %bu/Subtraction/Subtraction (the latter Subtraction refers to the executable name, while the former corresponds to the installation folder name).</p>
<div style="margin-bottom: 20px; font-size: 0px;">&nbsp;</div>

<div class="bs-callout bs-callout-primary"  >
 <h4>User-Developed Modules</h4>    
<p>Want to see your module featured here? Please <a href="/overview/support">contact</a> us</p>
</div>


<div style="margin-bottom: 20px; font-size: 0px;">&nbsp;</div>

</div>

      
      

      <div class="card" style="margin-top: 10px;">
        <a  class="faq" data-toggle="collapse" data-target="#item890e5fade5ab3c9bfb54bc4fea80304c"><div style="margin-left: 8px; margin-right: 8px; margin-top: 4px; margin-bottom: 4px;"><i class="fas fa-angle-right"></i>&nbsp;Basic GRASP (Matlab)&nbsp;
        <span style="float: right; background-color: #580F8B" 
        class="badge badge-primary">Reconstruction</span></div></a>
        <div id="item890e5fade5ab3c9bfb54bc4fea80304c" class="collapse">
          <div style="margin: 8px;">
            <div class="">            
              Author:  Li Feng, Ricardo Otazo, Kai Tobias Block <br>
              Version: 0.1a <br>
              Website: <a href="https://github.com/yarra-framework/yarramodules-grasp-basic" target="_blank" >https://github.com/yarra-framework/yarramodules-grasp-basic</a><br>
              <a href="https://s3.amazonaws.com/download.yarraframework.com/yarramodules-grasp-basic-01a.zip" target="_blank" class="btn btn-primary btn-lg" tabindex="-1" role="button" aria-disabled="true" style="font-weight: 300; color: #FFF; margin-top: 10px;"><i class="fas fa-download"></i>&nbsp;Download</a><br>
              <hr>                
            </div>   
            <div class="">
              <div class="content pt-2">
  <h4 id="purpose">Purpose</h4>
<p>This module provides a stable Matlab implementation of the GRASP DCE-MRI reconstruction technique. It requires Matlab R2016a or newer. If the Parallel Computing Toolbox has been installed, the reconstruction will be parallelized across slices depending on the available CPU cores. By default, all available cores will be used for the calculation.</p>
<p>When using the module, please cite the following publication:</p>
<p>Feng L, Grimm R, Block KT, Chandarana H, Kim S, Xu J, Axel L, Sodickson DK, Otazo R. 
Golden-angle radial sparse parallel MRI: combination of compressed sensing, parallel imaging, and golden-angle radial sampling for fast and flexible dynamic volumetric MRI. 
Magn Reson Med. 2014 Sep;72(3):707-17.</p>
<p>This module uses several open-source Matlab packages developed by other contributors, including the mapVBVD library by Philip Ehses, the NUFFT library developed by Jeff Fessler, and the inifile reader developed by Primoz Cermelj. Please give credit to these developers when using the module.</p>
<div style="margin-bottom: 20px; font-size: 0px;">&nbsp;</div>
<h4 id="usage">Usage</h4>
<p>The ZIP archive contains a template for a mode file that shows how the module can be called. The module should be used in combination with the SetDCMTags module.</p>
<pre tabindex="0"><code>yarra_GRASP_basic [input folder] [input file] [output folder] [tmp folder] [mode file]
</code></pre><p>Typical call:</p>
<pre tabindex="0"><code>[Reconstruction]
Bin=%hmb
Args=&#34;-nodesktop -nosplash -r %hq try, addpath(genpath(&#39;%bu/GRASP_basic/&#39;)); yarra_GRASP_basic(&#39;%rid/&#39;,&#39;%rif&#39;,&#39;%rod&#39;,&#39;%tmp&#39;,&#39;%mc&#39;); catch e, disp(e.message); end, quit; %hq&#34;
</code></pre><div style="margin-bottom: 20px; font-size: 0px;">&nbsp;</div>
<h4 id="configuration">Configuration</h4>
<p>Reconstruction settings can be configured in the [GRASP] section of the mode file. If settings are missing, the default values shown below will be used.</p>
<pre tabindex="0"><code>[GRASP]
SpokesPerFrame=144     % Defines how many numbers should be used per frame
Lambda=0.02            % Defines the strength of the temporal TV regularization
MaxThreads=[all]       % Defines how many CPU cores should be used. By default, all will be used
ApplyKzFilter=true     % Defines if k-space filtering along kz should be applied for partial Fourier scans
CompressedChannels=10  % Defines when/if channel compression should be used and how many Eigenmodes should be used
SliceFrom=0            % Allows restricting the range of slices to calculate (for faster testing)   
SliceTo=0
</code></pre><div style="margin-bottom: 20px; font-size: 0px;">&nbsp;</div>
<h4 id="limitations">Limitations</h4>
<ul>
<li>The module currently does not perform image-intenstiy normalization (aka Prescan Normalize).</li>
</ul>
<div style="margin-bottom: 20px; font-size: 0px;">&nbsp;</div>

</div>
          
            </div>            
            </div>
        </div>
     </div>    
        
      

      <div class="card" style="margin-top: 10px;">
        <a  class="faq" data-toggle="collapse" data-target="#itemae6b4558373b42a26b4d801570561baf"><div style="margin-left: 8px; margin-right: 8px; margin-top: 4px; margin-bottom: 4px;"><i class="fas fa-angle-right"></i>&nbsp;Performance-optimized GRASP (C&#43;&#43;)&nbsp;
        <span style="float: right; background-color: #580F8B" 
        class="badge badge-primary">Reconstruction</span></div></a>
        <div id="itemae6b4558373b42a26b4d801570561baf" class="collapse">
          <div style="margin: 8px;">
            <div class="">            
              Author:  Robert Grimm <br>
              Version: 3.75 <br>
              Website: <a href="http://www5.cs.fau.de/our-team/grimm-robert" target="_blank" >http://www5.cs.fau.de/our-team/grimm-robert</a><br>
              
              <hr>                
            </div>   
            <div class="">
              <div class="content pt-2">
  <h4 id="purpose">Purpose</h4>
<p>Performs a Compressed-Sensing-based 4D DCE-MRI reconstruction using the GRASP reconstruction technique. This module has been implemented in C++ and uses OpenMP parallelization to achieve high reconstruction speed.</p>
<p><strong>Note:</strong> This module can only be downloaded after a C2P contract with Siemens has been signed. Please contact your local Siemens collaboration manager. Alternatively, the Matlab-based version of GRASP can be used.</p>
<h4 id="usage">Usage</h4>
<pre tabindex="0"><code>GraspR [input Twix file] [ini file] [output folder] [tmp folder] [acc #]
</code></pre><p>Typical call:</p>
<pre tabindex="0"><code>[Reconstruction]
Bin=%bu/GRASP/GraspR
Args=%rid/%rif %rid/settings.ini %rod %tmp %vacc
</code></pre><h4 id="configuration">Configuration</h4>
<p>The configuration for the GRASP module is done via an ini file (an example file comes with the module). It is recommended to use the example file as template and to overwrite the settings with help of the the IniPatch module (in this way, everything is stored in the .mode file and it is not necessary to maintain multiple ini files).</p>

</div>
          
            </div>            
            </div>
        </div>
     </div>    
        
      

      <div class="card" style="margin-top: 10px;">
        <a  class="faq" data-toggle="collapse" data-target="#item0072ca5c21c9ac38eb269bd85171074f"><div style="margin-left: 8px; margin-right: 8px; margin-top: 4px; margin-bottom: 4px;"><i class="fas fa-angle-right"></i>&nbsp;PatchCharacterSet&nbsp;
        <span style="float: right; background-color: #40C1AC" 
        class="badge badge-primary">Postprocessing</span></div></a>
        <div id="item0072ca5c21c9ac38eb269bd85171074f" class="collapse">
          <div style="margin: 8px;">
            <div class="">            
              Author:  Kai Tobias Block <br>
              Version: 0.1a <br>
              Website: <a href="https://github.com/yarra-framework/yarramodules-patchcharacterset" target="_blank" >https://github.com/yarra-framework/yarramodules-patchcharacterset</a><br>
              
              <hr>                
            </div>   
            <div class="">
              <div class="content pt-2">
  <h4 id="purpose">Purpose</h4>
<p>Patches the character set of the reconstructed DICOMs and encodes the patient name in the local patient name. Necessary when using the GRASP module with certain PACS systems.</p>
<h4 id="usage">Usage</h4>
<pre tabindex="0"><code>PatchPatientName [input folder] [output folder] [TWIX file]
</code></pre><p>Typical call:</p>
<pre tabindex="0"><code>[PostProcessing]
Bin1=%bu/PatchCharacterSet/PatchPatientName.sh
Args1=%pid %pod %rid/%rif
</code></pre><h4 id="configuration">Configuration</h4>
<p>The character set can be changed directly in the script PatchPatientName.sh.</p>

</div>
          
            </div>            
            </div>
        </div>
     </div>    
        
      

      <div class="card" style="margin-top: 10px;">
        <a  class="faq" data-toggle="collapse" data-target="#item9e5218d8a8b2d17c024f96043ed08525"><div style="margin-left: 8px; margin-right: 8px; margin-top: 4px; margin-bottom: 4px;"><i class="fas fa-angle-right"></i>&nbsp;Subtraction&nbsp;
        <span style="float: right; background-color: #40C1AC" 
        class="badge badge-primary">Postprocessing</span></div></a>
        <div id="item9e5218d8a8b2d17c024f96043ed08525" class="collapse">
          <div style="margin: 8px;">
            <div class="">            
              Author:  Kai Tobias Block <br>
              Version: 0.1a2 <br>
              
              <a href="https://s3.amazonaws.com/download.yarraframework.com/Subtraction_01a2.zip" target="_blank" class="btn btn-primary btn-lg" tabindex="-1" role="button" aria-disabled="true" style="font-weight: 300; color: #FFF; margin-top: 10px;"><i class="fas fa-download"></i>&nbsp;Download</a><br>
              <hr>                
            </div>   
            <div class="">
              <div class="content pt-2">
  <h4 id="purpose">Purpose</h4>
<p>Calculates subtraction images from reconstructed image series.</p>
<h4 id="usage">Usage</h4>
<pre tabindex="0"><code>Subtraction [input folder] [output folder] [mode file]
</code></pre><p>Typical call:</p>
<pre tabindex="0"><code>[PostProcessing]
Bin=%bu/Subtraction/Subtraction
Args=%pid %pod %mc
</code></pre><h4 id="configuration">Configuration</h4>
<p>In .mode file:</p>
<pre tabindex="0"><code>[Subtraction]
BaselineSeries=2
KeepSourceImages=true
SubtractionMode=0
IncludeSeries=3:end#4
ExcludeSeries=
</code></pre><h5 id="keep-source-images">Keep source images</h5>
<p>If <em>KeepSourceImages=false</em>, then only the subtraction images will be sent. If <em>KeepSourceImages=true</em>, both the original images and subtraction images will be sent.</p>
<h5 id="subtraction-mode">Subtraction mode</h5>
<p>If <em>SubtractionMode=0</em>, then negative values will be discarded. If <em>SubtractionMode=1</em>, then the absolute value of the difference is calculated.</p>
<h5 id="range-specification">Range specification</h5>
<p>Using the parameter <em>IncludeSeries</em>, it is possible to specify for which time points subtractions should be calculated (by default, subtractions will be calculated for all images). It is possible to append multiple values using the comma separator (e.g., <em>4,7,9</em>), and it is possible to specify ranges (e.g <em>3:7</em>). The keyword <em>end</em> can be used to refer to the last time point, and it is possible to subtract integers (e.g. <em>end-1</em> refers to the second-last time point). When using the syntax <em>start:end#step</em>, it is possible to specify a step width if a subtraction image should not be calculated for every frame (e.g., <em>3:end#4</em>). Using the parameter <em>ExcludeSeries</em>, it is possible to exclude individual time points from the calculation. This setting will be evaluated after <em>IncludeSeries</em>.</p>

</div>
          
            </div>            
            </div>
        </div>
     </div>    
        
      

      
    </div>
  </div>
</div>
      <a href="https://github.com/orgs/yarra-framework/discussions" target="_none" class="chat-button">Open Chat</a>
<footer style="margin-top: 100px;">
    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <ul class="list-inline pull-left">
                    
                         
                         
                          <li><a class="page-scroll" href="/">Home</a></li>
                          <li class="footer-menu-divider">&vert;</li> 
                        
                          <li><a class="page-scroll" href="/disclaimer/">Disclaimer</a></li>
                          <li class="footer-menu-divider">&vert;</li> 
                        
                          <li><a class="page-scroll" href="/license/">License</a></li>
                           
                         
                    
                </ul>
            </div>
            <div class="col-md-4">
            <div class="pull-right">
            <a href="http://cai2r.net" target="_blank"><img class="cai2rlogo" src="/assets/img/cai2r.png" height="65"></a>
            </div>
            </div>
        </div>
    </div>
</footer>

    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha256-xaF9RpdtRxzwYMWg4ldJoyPWqyDPCRD0Cv7YEEe6Ie8=" crossorigin="anonymous"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>

<script>
hljs.configure({
  languages: []
})
hljs.initHighlightingOnLoad();
</script>

<script src="/assets/js/script.js"></script>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">


  </body>
</html>

